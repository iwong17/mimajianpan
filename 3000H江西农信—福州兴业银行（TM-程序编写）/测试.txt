1、连通性测试
S: 1B 00 0D
R: 99

2、关闭键盘，灯全亮	or	关闭键盘，灯全灭
S: 80	or	82

3、请输入密码，绿灯亮	or   再次输入密码，红灯亮
S: 82	or	81
R: 31 32 33 0D 

4、密码键盘出厂，回复默认密钥,选择00组工作密钥
S: 1B 52 0D 0A
R: AA

5、DES加密密码 （密码123456）
S: 1B 46 30 0D 0A	OR	1B 46 31 0D 0A
R: 02 10 49 42 43 4B 4D 4F 42 4D 48 43 44 46 49 45 44 4E 

6、DES加密ANSI9.8计算结果，输入密码
S: 1B 49 30 323232323434343436363636 0D 0A
R: KEFNLGDHMJJNJDJB
输入密码：123456
ANSI9.8结果：06121674BBBB9999
选择00组密钥：3030303030303030
加密结果：A45DB637C99D9391
拆分结果：02 10 4B45464E4C4744484D4A4A4E4A444A42 (KEFNLGDHMJJNJDJB)

7、DES加密ANSI9.8计算结果，再次输入密码
S: 1B 49 31 323232323434343436363636 0D 0A
R:

8、明文下载主密钥
S: 1B 4D 00 44494449444944494449444944494449 41424344 45464748 494A4B4C 4D4E4F50 0D 0A
R: AA
使用默认主密钥：3838383838383838 (38 ―― 44 49)
下载新密钥：0123456789ABCDEF (0 ―― 41 ………… E―― 4F F ―― 50)
S: 1B 4D 00 4142434445464748494A4B4C4D4E4F50 505050504F4F4F4F4242424241414141 0D 0A
R: AA
使用下载主密钥：0123456789ABCDE （4142434445464748494A4B4C4D4E4F50）
更新新主密钥：FFFFEEEE11110000	(505050504F4F4F4F4242424241414141)

9、明文下载工作密钥
S: 1B 55 00 00 505050504F4F4F4F4242424241414141 41414141424242424F4F4F4F50505050 0D 0A
R:
00区主密钥已更新为：FFFFEEEE11110000 (505050504F4F4F4F4242424241414141)
下载该区对应新工作密钥：00001111EEEEFFFF

10、选择密钥
S: 1B 41 00 00 0D 0A
R: AA

验证输入：1B 46 31 0D 0A
得到输出：02 10 4D 50 50 49 47 4A 44 49 49 44 49 41 48 4E 4D 4C （MPPIGJDIIDIAHNML）
输入密码：123456
密文：CF F8 69 38 83 80 7D CB
拆分输出：4D 50 50 49 47 4A 44 49 49 44 49 41 48 4E 4D 4C

11、设置最大输入密码长度
S: 1B 4E XX 0D
R:
XX：最大长度，范围[01,0e]; 默认14位


辅助测试

1、远程升级
S: 1B 02 0D
R:

2、修改波特率
S: 1B 12 XX 0D
R:
XX:波特率	1:9600  2:2400  3:4800  4:1200  5:115200  其他：9600

3、读版本
S: 1B 56 0D
R: JXNX-V1.0

4、按键和LED灯测试
S: 1B 60 0D
R:

5、增加序列号输出一次一密
S: 1B 62 0D
R: 


keyflag == 1	ANSI9.8加密算法
keyflag == 2	全按键测试
keyflag == 3	短命令输入密码返回，明文返回
keyflag == 4	DES加密，密文返回

内存分配，一条记录长度26字节，一个扇区存放4条记录，共有59*4=236条记录
0-31：	存储32组主密钥
32-159：存储128组工作密钥，每一个主密钥对应4个工作密钥
211：	存放主密钥和工作密钥是否初始化的信息
212：	允许拆机自毁标志（没用到拆机自毁）
213：	拆机自毁状态（没用到拆机自毁）
214：	存放当前波特率信息


第211条记录详解，初始化情况下，全为1
26字节：0-3字节存放0-31号主密钥初始化信息，4-19存放128组工作密钥信息

前4字节：
| 7 6 5 4 3 2 1 0 | F E D C B A 9 8 | 10 …… 1F |主密钥号
| 1 1 1 1 1 1 1 1 | 1 1 1 0 1 1 1 1 | 1  …… 1  |初始化标志

4-19字节
|    1    |    0    |    3    |    2    |    5    |   ……   |主密钥号
| 3 2 1 0 | 3 2 1 0 | 3 2 1 0 | 3 2 1 0 | 3 2 1 0 | 3 …… 0 |工作密钥号
| 1 1 1 1 | 1 1 1 1 | 1 1 1 1 | 1 1 1 1 | 1 1 1 1 | 1 …… 1 |初始化标志
